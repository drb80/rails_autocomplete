<p style="color: green"><%= notice %></p>

<h1>Tasks</h1>

<%= form_with url: tasks_path, method: :get, data: { turbo_frame: "records", turbo_action: "advance"} do |form| %>
  Search <%= form.search_field :query, value: params[:query], oninput: "this.form.requestSubmit()" %>

<% end %>
<%= turbo_frame_tag "records" do %>
<div id="tasks">
  <% @tasks.each do |task| %>
    <%= render task %>
    <p>
      <%= link_to "Show this task", task %>
    </p>
  <% end %>
</div>
<% end %>

<%= link_to "New task", new_task_path %>
